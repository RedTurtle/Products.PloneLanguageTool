<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="i18nlayer">

<body>

   <div metal:fill-slot="main" 
        tal:define="errors python:request.get('errors', {});
                    Iterator python:modules['Products.CMFPlone'].IndexIterator;
                    tabindex python:Iterator();
		    served_languages python:here.getSupportedLanguages();
                    master_language python:here.getMasterLanguage()">

        <h1 i18n:translate="heading_languages_sheet"> Sprachverwaltung für diese Plone Instanz
        </h1>

        <p i18n:translate="description_languages_sheet">
        Hier können Sie die möglichen Sprachen von Ihrem Portal verwalten und die Mastersprache ändern.
        </p>  


        <form name="folderContentsForm"
	      tal:condition="python:len(served_languages)"
	      method="post"
              action="folder_object"
              class="group"
              tal:attributes="action here/absolute_url"
              tal:define="global batch python:[];
			  folder_contents python:1;
                          standalone python:0;">
            <!-- fill table here -->
            <span tal:content="python: str(here.getSupportedLanguages())">langes</span>

	    <div class="row"><div class="label">&nbsp;</div>
              <input class="context" type="submit" name="here.deleteLanguage()" i18n:domain="plone" i18n:attributes="value" value="Delete" />
            </div>

	</form>
    

        <form class="group"
              name="edit_form"
              action="addSupportedLanguage" 
              method="get" >

            <span class="legend" i18n:translate="legend_create_new_language">Language hinzufügen</span>

            <div class="row">
                <div class="label">
                
                    <span i18n:translate="label_language">Language</span>
                
                </div>
                
                <div class="field">
    
		    <select name="lang_code"
		            tabindex=""
			    tal:attributes="tabindex tabindex/next;"
			    tal:define="available_languages python:list(here.availableLanguages()); sorted python:available_languages.sort( lambda x,y: cmp(x[1], y[1]) )">
			    
			    <option value="" i18n:domain="plone" i18n:translate="label_choose_language">Choose Language</option>
			    <tal:block tal:repeat="language available_languages">
			      <option tal:condition="python:test(language[0] not in served_languages, 1,0)" tal:attributes="value python:language[0]"
			              tal:content="structure python:language[1]">Language</option>
			    </tal:block>
		    </select>		
				   
		    <!--<input type="hidden" name="lang_code" value="" tal:attributes="value here/ContainmentContentType" /> -->

                </div>
    
            </div>
        
            <div class="row">
                <div class="label">&nbsp;</div>
                    <input class="context" 
                           tabindex=""
                           type="submit"
                           name="submit" 
                           value="Add"
                          /> 
            </div>
            
        </form>
	    
    </div>

</body>
</html>
